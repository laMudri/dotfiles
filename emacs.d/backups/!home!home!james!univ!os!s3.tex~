\documentclass[11pt]{article}
%Gummi|063|=)
\title{\textbf{Operating systems -- supervision 2}}
\author{James Wood}
\usepackage{listings}
\usepackage{bold-extra}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{tikz}
\usepackage{tabularx}
\usepackage{hyperref}
\usetikzlibrary{arrows}

\lstset{
  basicstyle=\small,
  basewidth=0.5em,
  frame=single,
  breaklines=true,
  %postbreak=\raisebox{0ex}[0ex][0ex]{
  %  \ensuremath{\color{red}\hookrightarrow\space}
  %}
  language=python,
  literate=
    {<=}{{\(\leq\)}}1
    {>=}{{\(\geq\)}}1
    {&&}{{\(\wedge\)}}1
    {||}{{\(\vee\)}}1
    {->}{{\(\rightarrow\)}}1
}

\tikzset{
  treenode/.style = {align=center, inner sep=0pt, text centered,
    font=\sffamily},
  bnode/.style = {treenode, circle, white, draw=black,
    fill=black, text width=1.5em},
  rnode/.style = {treenode, circle, red, draw=red,
    text width=1.5em, very thick},
  leaf/.style = {treenode, rectangle, draw=black,
    minimum width=0.5em, minimum height=0.5em}
}

\begin{document}

\maketitle

\begin{enumerate}
\item
  \begin{enumerate}
  \item Virtual addresses mean that processes have no way of accessing memory outside their address space, the OS can change the physical location of memory without the program needing to know about it, and virtual memory can be larger than physical memory if extra storage (such as a hard disk) is used.
  \item Virtual addressing requires additional hardware to be performant. For embedded systems, the cost (by whatever metric) of the extra parts (and the time taken to translate each address) may not be worth it, since programs may have physical addresses bound at compile or load time.
  \item
    \begin{enumerate}
    \item
    \item
    \item
    \end{enumerate}
  \end{enumerate}
\item
  \begin{enumerate}
  \item Internal fragmentation occurs when a process has been allocated more memory than it needs. This could occur because of a memory leak, lack of recent garbage collection, or a sudden decrease in memory requirements of the process. This can be mitigated by giving processes that have growing memory requirements a lower priority in the scheduler. External fragmentation occurs in segmenting systems when the physical memory of processes is arranged in such a way that there are small gaps between the segments of different processes. This can occur when processes change their memory demands, or when a small process terminates. This problem can be solved by periodically re\"ordering memory, assuming that processes only have access to memory via virtual addresses.
  \item The page table gives a comprehensive mapping from processes' virtual addresses to physical addresses. The TLB contains some of these mappings -- particularly mappings that are likely to be needed soon (like mappings associated with the current process). When there is a change in the page table, the TLB should be notified so that it doesn't become invalid.
  \item
  \end{enumerate}
\item
  \begin{enumerate}
  \item The directory service gives files a heirarchial structure and manages permissions.
  \item
  \item File metadata may store an ID or name for the file, the owner and group of the file, a count of references to the file, and dates of creation and modification.
  \item Hard linking is the way of making a file a member of a directory. A hard link is guaranteed to point to a file, and when the last hard link to a file is deleted, the space the file was using can be freed.
  \item A soft link is a file that points to another file. It is not guaranteed to point to anything, and will cause an excetion if opened while not pointing to anything.
  \end{enumerate}
\end{enumerate}
\item
  Unix gives each file a set of permissions. The permissions pertain separately to the owner, users in the same group as the owner, and others, and allow them to have any of read, write and execute access. More complex access control policies can be approximated by allowing files to be executed as a user other than the user who is actually using the program. The command \texttt{su} is one program offering this functionality.

  \begin{enumerate}
  \item
  \item
  \item
  \item
  \end{enumerate}
\item It needs to be impossible for users to modify the archived files in-place, so all write permissions should be removed. However, whole archived roots should be deletable by the administrator, so (only) these directories need write permissions for the owner, with the owner being the administrator.
\item
\item
\item
  \begin{enumerate}
  \item There is a delay after entering an incorrect password, and passwords are never printed to the screen.
  \item The password file contains only hashes of passwords, not passwords themselves, and passwords are salted before being hashed to avoid dictionary attacks.
  \end{enumerate}
\item
  \begin{itemize}
  \item CPU
  \item Main memory
  \item Hard drive
  \item Monitor
  \item Keyboard
  \end{itemize}
\item
  \begin{enumerate}
  \item Access control lists are stored with the files they pertain to, whilst capabilities are stored with the user. With the capabilities model, it is easy to add new users with few permissions, and all such users can be given access to some shared files in an automatic way. When using ACLs, users generally have to be arranged into groups so that files can be created without needing to know exactly what users there are on the system. Deciding accessibility for cababilities is simpler, since it requires only checking a key (which can be done in hardware).
  \item
  \item
  \item
  \end{enumerate}
\item
\end{enumerate}
\end{document}