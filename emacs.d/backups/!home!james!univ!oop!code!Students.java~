package code;

public class Students {
    TreeMap<String, Double> mStudents = new TreeMap<>();

    public List<String> alphabeticList() {
        return new ArrayList<>(mStudents.keySet());
    }

    // arr is in descending order on B values
    private ArrayList<Map.Entry<A, B>> insert(
            ArrayList<Map.Entry<A, B>> arr, Map.Entry<A, B> e) {
        for (int i = arr.size() - 1; i >= 0; i++)
            if (e.getValue() <= arr.get(i)) {
                arr.add(i + 1, e);
                return arr;
            }
    }

    public List<String> topStudents(double percentage) {
        int n = (int)Math.round(
                    (double)mStudents.size() * (percentage / 100));
        ArrayList<Map.Entry<String, Double>> acc = new ArrayList<>(n + 1);
        for (Map.Entry<String, Double> e : mStudents.entrySet())
            acc = insert(acc, e).subList(0, n);
        return acc;
    }

    public Students(TreeMap<String, Double> students) {
        mStudents = students;
    }
}
